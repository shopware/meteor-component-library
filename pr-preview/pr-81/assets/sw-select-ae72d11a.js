import{d as C,e as m,f as q,w as o,m as _,o as r,g as V,t as T,j as n,k as S,Q as v,R as w,l as y,p,s as g,n as L,v as A,N as j,b as K,Z as k,F as E,z as U,q as R,E as B,h as oe}from"./vue.esm-bundler-4ed8bc95.js";import{S as ue}from"./sw-base-field-5cc5ebbc.js";import{S as D}from"./sw-icon-0ed83457.js";import{S as de}from"./sw-loader-648b66d9.js";import{S as ce}from"./sw-field-error-276aac2a.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{S as fe}from"./sw-popover-deprecated-28ac4fbc.js";import{S as me}from"./sw-color-badge-ba091646.js";import{S as pe}from"./sw-button-9d0f69e7.js";import{i as N,M as Z}from"./_MapCache-73175cc1.js";import{i as F,d as he}from"./debounce-6f06ec9c.js";import{S as z}from"./_baseGetTag-22b9c805.js";function be(e,t){for(var s=-1,l=e==null?0:e.length,i=Array(l);++s<l;)i[s]=t(e[s],s,e);return i}var ye=1/0,O=z?z.prototype:void 0,H=O?O.toString:void 0;function X(e){if(typeof e=="string")return e;if(N(e))return be(e,X)+"";if(F(e))return H?H.call(e):"";var t=e+"";return t=="0"&&1/e==-ye?"-0":t}var ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/;function we(e,t){if(N(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||F(e)?!0:ve.test(e)||!ge.test(e)||t!=null&&e in Object(t)}var Se="Expected a function";function M(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Se);var s=function(){var l=arguments,i=t?t.apply(this,l):l[0],d=s.cache;if(d.has(i))return d.get(i);var c=e.apply(this,l);return s.cache=d.set(i,c)||d,c};return s.cache=new(M.Cache||Z),s}M.Cache=Z;var $e=500;function Ie(e){var t=M(e,function(l){return s.size===$e&&s.clear(),l}),s=t.cache;return t}var qe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/\\(\\)?/g,Ve=Ie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qe,function(s,l,i,d){t.push(i?d.replace(Ce,"$1"):l||s)}),t});const Te=Ve;function Le(e){return e==null?"":X(e)}function Pe(e,t){return N(e)?e:we(e,t)?[e]:Te(Le(e))}var ke=1/0;function Be(e){if(typeof e=="string"||F(e))return e;var t=e+"";return t=="0"&&1/e==-ke?"-0":t}function _e(e,t){t=Pe(t,e);for(var s=0,l=t.length;e!=null&&s<l;)e=e[Be(t[s++])];return s&&s==l?e:void 0}function W(e,t,s){var l=e==null?void 0:_e(e,t);return l===void 0?s:l}const Y=C({name:"SwSelectBase",components:{"sw-base-field":ue,"sw-icon":D,"sw-loader":de,"sw-field-error":ce},inheritAttrs:!1,props:{label:{type:String,required:!0},isLoading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},showClearableButton:{type:Boolean,required:!1,default:!1},error:{type:Object,required:!1,default:null},isInherited:{type:Boolean,required:!1,default:!1},isInheritanceField:{type:Boolean,required:!1,default:!1},disableInheritanceToggle:{type:Boolean,required:!1,default:!1}},data(){return{expanded:!1}},computed:{swFieldClasses(){return{"has--focus":this.expanded}}},methods:{toggleExpand(){this.expanded?this.collapse():this.expand()},expand(){this.expanded||this.disabled||(this.expanded=!0,document.addEventListener("click",this.listenToClickOutside),this.$emit("select-expanded"))},collapse(e){var t;document.removeEventListener("click",this.listenToClickOutside),this.expanded=!1,((t=e==null?void 0:e.target)==null?void 0:t.dataset.clearableButton)===void 0&&this.$emit("select-collapsed"),e!=null&&e.shiftKey&&(e.preventDefault(),this.focusPreviousFormElement())},focusPreviousFormElement(){const e='a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])',t=this.$el.querySelector(e),s=[...document.querySelectorAll(e)].filter(l=>!l.hasAttribute("disabled")&&l.dataset.clearableButton===void 0);s.forEach((l,i)=>{if(i>0&&l===t){const d=s[i-1];d.click(),d.focus()}})},listenToClickOutside(e){let{path:t}=e;typeof t>"u"&&(t=this.computePath(e)),t.find(s=>s===this.$el)||this.collapse()},computePath(e){const t=[];let{target:s}=e;for(;s;)t.push(s),s=s.parentElement;return t},emitClear(){this.$emit("clear")},focusParentSelect(e){e!=null&&e.shiftKey&&(this.$refs.selectWrapper.click(),e.preventDefault())}}});const Ae={class:"sw-select__selection-indicators"};function Ee(e,t,s,l,i,d){const c=m("sw-loader"),f=m("sw-icon"),a=m("sw-field-error"),u=m("sw-base-field");return r(),q(u,_({class:["sw-select",e.swFieldClasses]},e.$attrs,{disabled:e.disabled,"has-focus":e.expanded,"is-inherited":e.isInherited,"is-inheritance-field":e.isInheritanceField,"disable-inheritance-toggle":e.disableInheritanceToggle}),{label:o(()=>[V(T(e.label),1)]),"field-prefix":o(()=>[n(e.$slots,"sw-select-prefix")]),element:o(({identification:$,error:h,size:I})=>[S("div",{ref:"selectWrapper",class:"sw-select__selection",tabindex:"0",onClick:t[2]||(t[2]=(...b)=>e.expand&&e.expand(...b)),onFocus:t[3]||(t[3]=(...b)=>e.expand&&e.expand(...b)),onKeydown:[t[4]||(t[4]=A((...b)=>e.collapse&&e.collapse(...b),["tab"])),t[5]||(t[5]=A((...b)=>e.collapse&&e.collapse(...b),["esc"]))]},[n(e.$slots,"sw-select-selection",v(w({identification:$,error:h,disabled:e.disabled,size:I,expand:e.expand,collapse:e.collapse}))),S("div",Ae,[e.isLoading?(r(),q(c,{key:0,class:"sw-select__select-indicator",size:"16px"})):y("",!0),!e.disabled&&e.showClearableButton?(r(),p("button",{key:1,class:"sw-select__select-indicator-hitbox","data-clearable-button":"","data-testid":"select-clear-button",onClick:t[0]||(t[0]=L((...b)=>e.emitClear&&e.emitClear(...b),["prevent","stop"])),onKeydown:t[1]||(t[1]=A(L((...b)=>e.focusParentSelect&&e.focusParentSelect(...b),["stop"]),["tab"]))},[g(f,{class:"sw-select__select-indicator sw-select__select-indicator-clear",name:"regular-times-xxs"})],32)):y("",!0),g(f,{class:"sw-select__select-indicator",name:"solid-chevron-down-xs"})])],544),e.expanded?(r(),q(j,{key:0,name:"sw-select-result-list-fade-down"},{default:o(()=>[n(e.$slots,"results-list",v(w({collapse:e.collapse})))]),_:3})):y("",!0)]),"field-suffix":o(()=>[n(e.$slots,"sw-select-suffix")]),"field-hint":o(()=>[n(e.$slots,"sw-select-hint")]),error:o(()=>[e.error?(r(),q(a,{key:0,error:e.error},null,8,["error"])):y("",!0)]),_:3},16,["class","disabled","has-focus","is-inherited","is-inheritance-field","disable-inheritance-toggle"])}const Re=P(Y,[["render",Ee]]);Y.__docgenInfo={displayName:"SwSelectBase",exportName:"default",description:"",tags:{},props:[{name:"label",description:"The label for the select field itself.",type:{name:"string"},required:!0},{name:"isLoading",description:"Toggles the loading state of the select field.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"disabled",description:"Disables or enables the select field.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"showClearableButton",description:"Toggles a button to clear all selections.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"error",description:"An error in your business logic related to this field.",tags:{example:[{description:'{"code": 500, "detail": "Error while saving"}',title:"example"}]},type:{name:"object"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"isInherited",description:"Toggles the inheritance visualization.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"isInheritanceField",description:"Determines if the field is inheritable.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"disableInheritanceToggle",description:"Determines the active state of the inheritance toggle.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"select-expanded"},{name:"select-collapsed"},{name:"clear"}],slots:[{name:"sw-select-prefix"},{name:"sw-select-selection",scoped:!0,bindings:[{name:"identification",title:"binding"},{name:"error",title:"binding"},{name:"disabled",title:"binding"},{name:"size",title:"binding"},{name:"expand",title:"binding"},{name:"collapse",title:"binding"}]},{name:"results-list",scoped:!0,bindings:[{name:"collapse",title:"binding"}]},{name:"sw-select-suffix"},{name:"sw-select-hint"}],sourceFiles:["/home/runner/work/meteor-component-library/meteor-component-library/src/components/form/_internal/sw-select-base/sw-select-base.vue"]};const G=Symbol(),Q=Symbol(),J=Symbol(),x=Symbol(),ee=C({name:"SwSelectResultList",i18n:{messages:{en:{"sw-select-result-list":{messageNoResults:"No results found."}},de:{"sw-select-result-list":{messageNoResults:"Es wurden keine Ergebnisse gefunden."}}}},components:{"sw-popover-deprecated":fe,"sw-icon":D},provide(){return{setActiveItemIndex:this.setActiveItemIndex}},setup(){const e=K(0),t=K([]),s=K([]),l=()=>{t.value.forEach(u=>{u(e.value)})},i=u=>{e.value=u,l()},d=u=>{t.value.push(u)},c=u=>{t.value=t.value.filter($=>$!==u)},f=u=>{s.value.push(u)},a=u=>{s.value=s.value.filter($=>$!==u)};return k(G,d),k(Q,c),k(J,f),k(x,a),{activeItemIndex:e,emitActiveItemIndex:l,setActiveItemIndex:i,addToActiveItemChangeListeners:d,removeActiveItemChangeListener:c,addToItemSelectByKeyboardListeners:f,removeItemSelectByKeyboardListener:a}},props:{options:{type:Array,required:!1,default(){return[]}},emptyMessage:{type:String,required:!1,default:null},focusEl:{type:[HTMLElement],required:!1,default(){return document}},isLoading:{type:Boolean,required:!1,default:!1},popoverClasses:{type:Array,required:!1,default(){return[]}},popoverResizeWidth:{type:Boolean,required:!1,default:!0}},data(){return{activeItemChangeListeners:[],itemSelectByKeyboardListeners:[]}},computed:{emptyMessageText(){return this.emptyMessage||this.$tc("sw-select-result-list.messageNoResults")},popoverClass(){return[...this.popoverClasses,"sw-select-result-list-popover-wrapper"]}},created(){this.addEventListeners()},mounted(){this.emitActiveItemIndex()},beforeUnmount(){this.removeEventListeners()},methods:{addEventListeners(){this.focusEl.addEventListener("keydown",this.navigate),document.addEventListener("click",this.checkOutsideClick)},removeEventListeners(){this.focusEl.removeEventListener("keydown",this.navigate),document.removeEventListener("click",this.checkOutsideClick)},checkOutsideClick(e){e.stopPropagation();const t=this.$refs.popoverContent.contains(e.target),s=this.$el.contains(e.target),l=this.$parent.$el.contains(e.target);t||s||l||this.$emit("outside-click")},navigate({key:e}){if(e=e.toUpperCase(),e==="ARROWDOWN"){this.navigateNext();return}if(e==="ARROWUP"){this.navigatePrevious();return}e==="ENTER"&&this.emitClicked()},navigateNext(){if(this.activeItemIndex>=this.options.length-1){this.$emit("paginate");return}this.activeItemIndex+=1,this.emitActiveItemIndex(),this.updateScrollPosition()},navigatePrevious(){this.activeItemIndex>0&&(this.activeItemIndex-=1),this.emitActiveItemIndex(),this.updateScrollPosition()},updateScrollPosition(){this.$nextTick(()=>{const e=document.querySelector(".sw-select-result-list__content"),t=e.querySelector(".is--active"),s=t.offsetHeight,l=t.offsetTop,i=e.scrollTop;l!==0&&(e.offsetHeight+i<l+s&&(e.scrollTop+=s),i!==0&&l-i-s<=0&&(e.scrollTop-=s))})},emitClicked(){this.$emit("item-select-by-keyboard",this.activeItemIndex),this.itemSelectByKeyboardListeners.forEach(e=>{e(this.activeItemIndex)})},onScroll(e){this.getBottomDistance(e.target)===0&&this.$emit("paginate")},getBottomDistance(e){return e.scrollHeight-e.clientHeight-e.scrollTop}}});const De={class:"sw-select-result-list"},Ke={class:"sw-select-result-list__item-list"},Ne={key:0,class:"sw-select-result-list__empty"};function Fe(e,t,s,l,i,d){const c=m("sw-icon"),f=m("sw-popover-deprecated");return r(),p("div",De,[g(f,{class:"sw-select-result-list-popover","popover-class":e.popoverClass,"z-index":1100,"resize-width":e.popoverResizeWidth},{default:o(()=>[S("div",{ref:"popoverContent",class:R(["sw-select-result-list__content",{"sw-select-result-list__content_empty":e.isLoading&&(!e.options||e.options.length<=0)}]),onScroll:t[0]||(t[0]=(...a)=>e.onScroll&&e.onScroll(...a))},[n(e.$slots,"before-item-list"),S("ul",Ke,[(r(!0),p(E,null,U(e.options,(a,u)=>n(e.$slots,"result-item",v(w({item:a,index:u})))),256))]),n(e.$slots,"after-item-list"),!e.isLoading&&e.options&&e.options.length<1?(r(),p("div",Ne,[g(c,{name:"default-action-search",size:"20px"}),V(" "+T(e.emptyMessageText),1)])):y("",!0)],34)]),_:3},8,["popover-class","resize-width"])])}const Me=P(ee,[["render",Fe]]);ee.__docgenInfo={displayName:"SwSelectResultList",exportName:"default",description:"",tags:{},props:[{name:"options",type:{name:"array"},required:!1,defaultValue:{func:!1,value:"[]"}},{name:"emptyMessage",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"focusEl",type:{name:"HTMLDocument|HTMLElement"},required:!1,defaultValue:{func:!0,value:"function() { return document; }"}},{name:"isLoading",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"popoverClasses",type:{name:"string[]"},required:!1,defaultValue:{func:!0,value:`function() {
  return [];
}`}},{name:"popoverResizeWidth",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"outside-click"},{name:"paginate"},{name:"item-select-by-keyboard",type:{names:["undefined"]}}],slots:[{name:"before-item-list"},{name:"result-item",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"after-item-list"}],sourceFiles:["/home/runner/work/meteor-component-library/meteor-component-library/src/components/form/_internal/sw-select-base/_internal/sw-select-result-list.vue"]};const te=C({components:{"sw-icon":D},inject:["setActiveItemIndex"],props:{index:{type:Number,required:!0},item:{type:Object,required:!0},disabled:{type:Boolean,required:!1,default:!1},selected:{type:Boolean,required:!1,default:!1},descriptionPosition:{type:String,required:!1,default:"right",validator(e){return["bottom","right"].includes(e)}}},data(){return{active:!1}},computed:{resultClasses(){return[{"is--active":this.active,"is--disabled":this.disabled,"has--description":this.hasDescriptionSlot,[`is--description-${this.descriptionPosition}`]:this.hasDescriptionSlot},`sw-select-option--${this.index}`]},hasDescriptionSlot(){return!!this.$slots.description||!!this.$slots.description}},setup(){const e=B(G),t=B(Q),s=B(J),l=B(x);return{addActiveItemListener:e,removeActiveItemListener:t,addItemSelectByKeyboardListener:s,removeItemSelectByKeyboardListener:l}},created(){this.addActiveItemListener&&this.addActiveItemListener(this.checkIfActive),this.addItemSelectByKeyboardListener&&this.addItemSelectByKeyboardListener(this.checkIfSelected)},unmounted(){this.removeActiveItemListener&&this.removeActiveItemListener(this.checkIfActive),this.removeItemSelectByKeyboardListener&&this.removeItemSelectByKeyboardListener(this.checkIfSelected)},methods:{checkIfSelected(e){e===this.index&&this.onClickResult()},checkIfActive(e){this.active=this.index===e},onClickResult(){this.disabled||this.$parent.$parent.$emit("item-select",this.item)},onMouseEnter(){this.setActiveItemIndex(this.index)}}});const ze={class:"sw-select-result__result-item-preview"},Oe={class:"sw-select-result__result-item-text"},He={key:0,class:"sw-select-result__result-item-description"};function We(e,t,s,l,i,d){const c=m("sw-icon");return r(),p("li",{class:R(["sw-select-result",e.resultClasses]),onMouseenter:t[0]||(t[0]=(...f)=>e.onMouseEnter&&e.onMouseEnter(...f)),onClick:t[1]||(t[1]=L((...f)=>e.onClickResult&&e.onClickResult(...f),["stop"]))},[S("span",ze,[n(e.$slots,"preview")]),S("span",Oe,[n(e.$slots,"default")]),g(j,{name:"sw-select-result-appear"},{default:o(()=>[e.selected?(r(),q(c,{key:0,name:"regular-checkmark-xs",size:"16px"})):y("",!0)]),_:1}),e.hasDescriptionSlot?(r(),p("span",He,[n(e.$slots,"description")])):y("",!0)],34)}const je=P(te,[["render",We]]);te.__docgenInfo={exportName:"default",displayName:"sw-select-result",description:"",tags:{},props:[{name:"index",type:{name:"number"},required:!0},{name:"item",type:{name:"object"},required:!0},{name:"disabled",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"selected",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"descriptionPosition",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'right'"},values:["bottom","right"]}],slots:[{name:"preview"},{name:"default"},{name:"description"}],sourceFiles:["/home/runner/work/meteor-component-library/meteor-component-library/src/components/form/_internal/sw-select-base/_internal/sw-select-result.vue"]};const se=C({name:"SwLabel",i18n:{messages:{en:{"sw-label":{remove:"Remove"}},de:{"sw-label":{remove:"Entfernen"}}}},components:{"sw-icon":D,"sw-color-badge":me},props:{variant:{type:String,required:!1,default:"",validator(e){return e.length?["info","danger","success","warning","neutral","primary"].includes(e):!0}},size:{type:String,required:!1,default:"default",validator(e){return["small","medium","default"].includes(e)}},appearance:{type:String,required:!1,default:"default",validator(e){return["default","pill","circle","badged"].includes(e)}},ghost:{type:Boolean,required:!1,default:!1},caps:{type:Boolean,required:!1,default:!1},dismissable:{type:Boolean,required:!1,default:!0}},computed:{labelClasses(){return[`sw-label--appearance-${this.appearance}`,`sw-label--size-${this.size}`,{[`sw-label--${this.variant}`]:!!this.variant,"sw-label--dismissable":this.showDismissable,"sw-label--ghost":this.ghost,"sw-label--caps":this.caps}]},showDismissable(){return!!this.$attrs.onDismiss&&this.dismissable}}});const Ue={class:"sw-label__caption"},Ze=["title"];function Xe(e,t,s,l,i,d){const c=m("sw-color-badge"),f=m("sw-icon");return r(),p("span",{class:R(["sw-label",e.labelClasses]),onClick:t[1]||(t[1]=L(a=>e.$emit("selected"),["stop"]))},[e.appearance==="badged"?(r(),q(c,{key:0,variant:e.variant,rounded:!0},null,8,["variant"])):y("",!0),S("span",Ue,[n(e.$slots,"default")]),e.showDismissable?(r(),p("button",{key:1,class:"sw-label__dismiss",title:e.$tc("sw-label.remove"),onClick:t[0]||(t[0]=L(a=>e.$emit("dismiss"),["prevent","stop"]))},[n(e.$slots,"dismiss-icon",{},()=>[g(f,{"data-testid":"dismiss-label",name:"regular-times-xxs"})])],8,Ze)):y("",!0)],2)}const Ye=P(se,[["render",Xe]]);se.__docgenInfo={displayName:"SwLabel",exportName:"default",description:"",tags:{},props:[{name:"variant",values:["info","danger","success","warning","neutral","primary"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"''"}},{name:"size",values:["small","medium","default"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'default'"}},{name:"appearance",values:["default","pill","circle","badged"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'default'"}},{name:"ghost",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"caps",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"dismissable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"selected"},{name:"dismiss"}],slots:[{name:"default"},{name:"dismiss-icon"}],sourceFiles:["/home/runner/work/meteor-component-library/meteor-component-library/src/components/_internal/sw-label.vue"]};const le=C({name:"SwSelectSelectionList",components:{"sw-label":Ye,"sw-button":pe},props:{selections:{type:Array,required:!1,default:()=>[]},labelProperty:{type:String,required:!1,default:"label"},valueProperty:{type:String,required:!1,default:"value"},enableSearch:{type:Boolean,required:!1,default:!0},invisibleCount:{type:Number,required:!1,default:0},size:{type:String,required:!1,default:null},alwaysShowPlaceholder:{type:Boolean,required:!1,default:!1},placeholder:{type:String,required:!1,default:""},isLoading:{type:Boolean,required:!1,default:!1},searchTerm:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1},selectionDisablingMethod:{type:Function,required:!1,default:()=>!1},hideLabels:{type:Boolean,required:!1,default:!1},multiSelection:{type:Boolean,required:!0},disableInput:{type:Boolean,required:!1,default:!1}},computed:{classBindings(){return{"sw-select-selection-list--single":!this.multiSelection}},showPlaceholder(){return this.alwaysShowPlaceholder||this.selections.length===0&&this.hideLabels?this.placeholder:""}},methods:{isSelectionDisabled(e){return!this.multiSelection||this.disabled?!0:typeof this.selectionDisablingMethod!="function"?!1:this.selectionDisablingMethod(e)},onClickInvisibleCount(){this.$emit("total-count-click")},onSearchTermChange(e){this.$emit("search-term-change",e.target.value,e)},onKeyDownDelete(){this.searchTerm.length<1&&this.$emit("last-item-delete")},onClickDismiss(e){this.$emit("item-remove",e)},focus(){this.$refs.swSelectInput&&this.$refs.swSelectInput.focus()},blur(){this.$refs.swSelectInput&&this.$refs.swSelectInput.blur()},select(){this.$refs.swSelectInput&&this.$refs.swSelectInput.select()},getFocusEl(){return this.$refs.swSelectInput}}});const Ge={class:"sw-select-selection-list"},Qe=["data-id"],Je=["title"],xe={key:0,class:"sw-select-selection-list__load-more"},et={key:1},tt=["disabled","readonly","placeholder","value"];function st(e,t,s,l,i,d){const c=m("sw-label"),f=m("sw-button");return r(),p("ul",Ge,[(r(!0),p(E,null,U(e.selections,(a,u)=>(r(),p(E,{key:a[e.valueProperty]},[e.hideLabels?y("",!0):(r(),p("li",{key:0,class:R(["sw-select-selection-list__item-holder--"+u,"sw-select-selection-list__item-holder",e.classBindings]),"data-id":a[e.valueProperty]},[n(e.$slots,"selected-option",v(w({selection:a,defaultLabel:a[e.labelProperty],disabled:e.disabled})),()=>[g(c,{dismissable:!e.isSelectionDisabled(a),size:e.size,onDismiss:$=>e.onClickDismiss(a)},{default:o(()=>[S("span",{class:"sw-select-selection-list__item",title:a[e.labelProperty]},[n(e.$slots,"label-property",v(w({item:a,index:u,labelProperty:e.labelProperty,valueProperty:e.valueProperty})),()=>[V(T(a[e.labelProperty]),1)])],8,Je)]),_:2},1032,["dismissable","size","onDismiss"])])],10,Qe))],64))),128)),e.invisibleCount>0&&!e.hideLabels?(r(),p("li",xe,[n(e.$slots,"invisible-count",v(w({invisibleCount:e.invisibleCount,onClickInvisibleCount:e.onClickInvisibleCount})),()=>[g(f,{class:"sw-select-selection-list__load-more-button",onClick:L(e.onClickInvisibleCount,["stop"])},{default:o(()=>[V(" +"+T(e.invisibleCount),1)]),_:1},8,["onClick"])])])):y("",!0),e.disableInput?y("",!0):(r(),p("li",et,[n(e.$slots,"input",v(w({placeholder:e.placeholder,searchTerm:e.searchTerm,onSearchTermChange:e.onSearchTermChange,onKeyDownDelete:e.onKeyDownDelete})),()=>[S("input",{ref:"swSelectInput",class:"sw-select-selection-list__input",type:"text",disabled:e.disabled,readonly:!e.enableSearch,placeholder:e.showPlaceholder,value:e.searchTerm,onInput:t[0]||(t[0]=(...a)=>e.onSearchTermChange&&e.onSearchTermChange(...a)),onKeydown:t[1]||(t[1]=A((...a)=>e.onKeyDownDelete&&e.onKeyDownDelete(...a),["delete"]))},null,40,tt)])]))])}const lt=P(le,[["render",st]]);le.__docgenInfo={displayName:"SwSelectSelectionList",exportName:"default",description:"",tags:{},props:[{name:"selections",type:{name:"Record<string, string>[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"labelProperty",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'label'"}},{name:"valueProperty",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'value'"}},{name:"enableSearch",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"invisibleCount",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"0"}},{name:"size",values:["small","medium","default"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"alwaysShowPlaceholder",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"placeholder",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"''"}},{name:"isLoading",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"searchTerm",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"''"}},{name:"disabled",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"selectionDisablingMethod",type:{name:"(selection: Record<string, string>) => boolean"},required:!1,defaultValue:{func:!0,value:"() => false"}},{name:"hideLabels",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"multiSelection",type:{name:"boolean"},required:!0},{name:"disableInput",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"total-count-click"},{name:"search-term-change",type:{names:["undefined"]},properties:[{type:{names:["undefined"]},name:"<anonymous1>"}]},{name:"last-item-delete"},{name:"item-remove",type:{names:["undefined"]}}],slots:[{name:"selected-option",scoped:!0,bindings:[{name:"selection",title:"binding"},{name:"defaultLabel",title:"binding"},{name:"disabled",title:"binding"}]},{name:"label-property",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"},{name:"labelProperty",title:"binding"},{name:"valueProperty",title:"binding"}]},{name:"invisible-count",scoped:!0,bindings:[{name:"invisibleCount",title:"binding"},{name:"onClickInvisibleCount",title:"binding"}]},{name:"input",scoped:!0,bindings:[{name:"placeholder",title:"binding"},{name:"searchTerm",title:"binding"},{name:"onSearchTermChange",title:"binding"},{name:"onKeyDownDelete",title:"binding"}]}],sourceFiles:["/home/runner/work/meteor-component-library/meteor-component-library/src/components/form/_internal/sw-select-base/_internal/sw-select-selection-list.vue"]};const ie=C({name:"SwHighlightText",props:{searchTerm:{type:String,required:!1,default:null},text:{type:String,required:!1,default:null}},methods:{searchAndReplace(){if(!this.text)return"";if(!this.searchTerm)return this.text;const e='<span class="sw-highlight-text__highlight">',t="</span>",s=new RegExp(this.escapeRegExp(this.searchTerm),"ig");return this.text.replace(s,l=>`${e}${l}${t}`)},escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},render(){return oe("div",{class:"sw-highlight-text",innerHTML:this.searchAndReplace()})}});ie.__docgenInfo={displayName:"SwHighlightText",exportName:"default",description:"",tags:{},props:[{name:"searchTerm",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"text",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/meteor-component-library/meteor-component-library/src/components/_internal/sw-highlight-text.vue"]};const ae=C({name:"SwSelect",i18n:{messages:{en:{"sw-select":{messageNoResults:'No results found for "{term}".'}},de:{"sw-select":{messageNoResults:'Es wurden keine Ergebnisse fÃ¼r "{term}" gefunden.'}}}},components:{"sw-select-base":Re,"sw-select-result-list":Me,"sw-select-selection-list":lt,"sw-highlight-text":ie,"sw-select-result":je},inheritAttrs:!1,model:{prop:"value",event:"change"},props:{options:{type:Array,required:!0},enableMultiSelection:{type:Boolean,default:!1},value:{type:[String,Number,Boolean,Array,null,void 0],required:!1,default:null},labelProperty:{type:String,required:!1,default:"label"},valueProperty:{type:String,required:!1,default:"value"},valueLimit:{type:Number,required:!1,default:5},label:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:""},isLoading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},hideClearableButton:{type:Boolean,required:!1,default:!1},highlightSearchTerm:{type:Boolean,required:!1,default:!0},searchFunction:{type:Function,required:!1,default({options:e,labelProperty:t,searchTerm:s}){return e.filter(l=>{const i=W(l,t);return i?i.toLowerCase().includes(s.toLowerCase()):!1})}},error:{type:Object,required:!1,default:null},isInherited:{type:Boolean,required:!1,default:!1},isInheritanceField:{type:Boolean,required:!1,default:!1},disableInheritanceToggle:{type:Boolean,required:!1,default:!1},small:{type:Boolean,required:!1,default:!1}},data(){return{searchTerm:"",limit:this.valueLimit}},computed:{visibleValues(){if(typeof this.currentValue=="string"||typeof this.currentValue=="number"||typeof this.currentValue=="boolean"){const e=this.currentValue;return this.options.filter(t=>e===this.getKey(t,this.valueProperty))}if(Array.isArray(this.currentValue)){const e=this.currentValue;return this.currentValue.length<=0?[]:this.options.filter(t=>e.includes(this.getKey(t,this.valueProperty))).slice(0,this.limit)}return this.options.filter(e=>this.isSelected(e)).slice(0,this.limit)},totalValuesCount(){return this.enableMultiSelection&&Array.isArray(this.currentValue)&&this.currentValue.length?this.currentValue.length:(Array.isArray(this.currentValue)&&this.currentValue.length,this.currentValue!==void 0||this.currentValue!==null?1:0)},invisibleValueCount(){return this.currentValue?Math.max(0,this.totalValuesCount-this.limit):0},currentValue:{get(){return this.value?this.value:[]},set(e){this.$emit("change",e)}},visibleResults(){return this.searchTerm?this.searchFunction({options:this.options,labelProperty:this.labelProperty,valueProperty:this.valueProperty,searchTerm:this.searchTerm}):this.options},componentClasses(){return{"sw-select--small":this.small}}},watch:{valueLimit(e){this.limit=e}},methods:{isSelected(e){return this.enableMultiSelection&&Array.isArray(this.currentValue)?this.currentValue.includes(this.getKey(e,this.valueProperty)):this.currentValue===this.getKey(e,this.valueProperty)},addItem(e){const t=this.getKey(e,this.valueProperty);if(this.isSelected(e)&&this.enableMultiSelection){this.remove(e);return}this.$emit("item-add",e),this.enableMultiSelection?Array.isArray(this.currentValue)?this.currentValue=[...this.currentValue,t]:this.currentValue!==void 0||this.currentValue!==null?this.currentValue=[t]:this.currentValue=[this.currentValue,t]:this.currentValue!==t&&(this.currentValue=t,this.$refs.selectBase.collapse(),this.$refs.selectionList.blur()),this.$refs.selectionList.focus(),this.$refs.selectionList.select()},remove(e){if(this.$emit("item-remove",e),!Array.isArray(this.currentValue)){this.currentValue=null;return}this.currentValue=this.currentValue.filter(t=>t!==this.getKey(e,this.valueProperty))},removeLastItem(){if(!this.visibleValues.length)return;if(this.invisibleValueCount>0){this.expandValueLimit();return}const e=this.visibleValues[this.visibleValues.length-1];this.remove(e)},expandValueLimit(){this.$emit("display-values-expand"),this.limit+=this.limit},onSearchTermChange:he(function(t){this.searchTerm=t,this.$emit("search-term-change",this.searchTerm),this.resetActiveItem()},100),resetActiveItem(){this.$refs.swSelectResultList&&this.$refs.swSelectResultList.setActiveItemIndex(0)},onSelectExpanded(){this.$refs.selectionList.focus()},onSelectCollapsed(){this.searchTerm="",this.$refs.selectionList.blur()},getKey(e,t,s){return W(e,t,s)},onClearSelection(){this.currentValue=[]}}});function it(e,t,s,l,i,d){const c=m("sw-select-selection-list"),f=m("sw-highlight-text"),a=m("sw-select-result"),u=m("sw-select-result-list"),$=m("sw-select-base");return r(),q($,_({ref:"selectBase",class:["sw-select",e.componentClasses],"is-loading":e.isLoading,label:e.label},e.$attrs,{error:e.error,disabled:e.disabled,"show-clearable-button":!e.hideClearableButton,"is-inherited":e.isInherited,"is-inheritance-field":e.isInheritanceField,"disable-inheritance-toggle":e.disableInheritanceToggle,onSelectExpanded:e.onSelectExpanded,onSelectCollapsed:e.onSelectCollapsed,onClear:e.onClearSelection}),{"sw-select-prefix":o(()=>[n(e.$slots,"prefix")]),"sw-select-selection":o(({size:h})=>[g(c,_({ref:"selectionList","disable-input":e.small,"multi-selection":e.enableMultiSelection,selections:e.visibleValues,"invisible-count":e.invisibleValueCount},{size:h,valueProperty:e.valueProperty,labelProperty:e.labelProperty,placeholder:e.placeholder,searchTerm:e.searchTerm,disabled:e.disabled},{onTotalCountClick:e.expandValueLimit,onItemRemove:e.remove,onLastItemDelete:e.removeLastItem,onSearchTermChange:e.onSearchTermChange}),{"label-property":o(({item:I,index:b,itemLabelProperty:ne,itemValueProperty:re})=>[n(e.$slots,"selection-label-property",v(w({item:I,index:b,itemLabelProperty:ne,itemValueProperty:re})),()=>[V(T(e.getKey(I,e.labelProperty)),1)])]),_:2},1040,["disable-input","multi-selection","selections","invisible-count","onTotalCountClick","onItemRemove","onLastItemDelete","onSearchTermChange"])]),"results-list":o(()=>[g(u,{ref:"swSelectResultList",options:e.visibleResults,"is-loading":e.isLoading,"empty-message":e.$t("sw-select.messageNoResults",{term:e.searchTerm}),"focus-el":e.$refs.selectionList.getFocusEl(),onPaginate:t[0]||(t[0]=h=>e.$emit("paginate")),onItemSelect:e.addItem},{"before-item-list":o(()=>[n(e.$slots,"before-item-list")]),"result-item":o(({item:h,index:I})=>[n(e.$slots,"result-item",v(w({item:h,index:I,labelProperty:e.labelProperty,valueProperty:e.valueProperty,searchTerm:e.searchTerm,highlightSearchTerm:e.highlightSearchTerm,isSelected:e.isSelected,addItem:e.addItem,getKey:e.getKey})),()=>[g(a,_({selected:e.isSelected(h),class:"sw-select-option--"+h.value,"data-testid":"sw-select-option--"+h.value},{item:h,index:I},{onItemSelect:e.addItem}),{default:o(()=>[n(e.$slots,"result-label-property",v(w({item:h,index:I,labelProperty:e.labelProperty,valueProperty:e.valueProperty,searchTerm:e.searchTerm,getKey:e.getKey})),()=>[e.highlightSearchTerm?(r(),q(f,{key:0,text:e.getKey(h,e.labelProperty),"search-term":e.searchTerm},null,8,["text","search-term"])):(r(),p(E,{key:1},[V(T(e.getKey(h,e.labelProperty)),1)],64))])]),_:2},1040,["selected","class","data-testid","onItemSelect"])])]),"after-item-list":o(()=>[n(e.$slots,"after-item-list")]),_:3},8,["options","is-loading","empty-message","focus-el","onItemSelect"])]),"sw-select-suffix":o(()=>[n(e.$slots,"suffix")]),"sw-select-hint":o(()=>[n(e.$slots,"hint")]),_:3},16,["class","is-loading","label","error","disabled","show-clearable-button","is-inherited","is-inheritance-field","disable-inheritance-toggle","onSelectExpanded","onSelectCollapsed","onClear"])}const yt=P(ae,[["render",it]]);ae.__docgenInfo={displayName:"SwSelect",exportName:"default",description:"",tags:{},props:[{name:"options",description:"An array of objects with the labelProperty and valueProperty.",tags:{example:[{description:"[{label: 'Option A', value: 'a'}, {label: 'Option B', value: 'b'}]",title:"example"}]},type:{name:"array"},required:!0},{name:"enableMultiSelection",description:"Toggles if either one or more items can be selected.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"v-model",description:"Dependent on multiSelection, either a single value or an array of values.",type:{name:"string|number|boolean|unknown[]|null|undefined"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"labelProperty",description:"The object key of the label property.",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'label'"}},{name:"valueProperty",description:"The object key to use for the value.",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'value'"}},{name:"valueLimit",description:"The number of items that are expanded by default.",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"5"}},{name:"label",description:"The label for the select field itself.",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"''"}},{name:"placeholder",description:"The placeholder for the select field.",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"''"}},{name:"isLoading",description:"Toggles the loading state of the select field.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"disabled",description:"Disables or enables the select field.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"hideClearableButton",description:"Toggles a button to clear all selections.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"highlightSearchTerm",description:"Determines to highlight the searched term or not.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"searchFunction",description:`Used to implement a custom search function.
Parameters passed: { options, labelProperty, valueProperty, searchTerm }`,type:{name:"func"},required:!1,defaultValue:{func:!0,value:`function() {
  return options.filter((option: any) => {
    const label = get(option, labelProperty);
    if (!label) {
      return false;
    }
    return label.toLowerCase().includes(searchTerm.toLowerCase());
  });
}`}},{name:"error",description:`An error in your business logic related to this field.

For example: {"code": 500, "detail": "Error while saving"}`,type:{name:"object"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"isInherited",description:"Toggles the inheritance visualization.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"isInheritanceField",description:"Determines if the field is inheritable.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"disableInheritanceToggle",description:"Determines the active state of the inheritance toggle.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"small",description:"Render the select field in small without a search input",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"paginate"},{name:"change",type:{names:["undefined"]}},{name:"item-add",type:{names:["undefined"]}},{name:"item-remove",type:{names:["undefined"]}},{name:"display-values-expand"},{name:"search-term-change",type:{names:["undefined"]}}],slots:[{name:"prefix"},{name:"selection-label-property",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"},{name:"itemLabelProperty",title:"binding"},{name:"itemValueProperty",title:"binding"}]},{name:"before-item-list"},{name:"result-item",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"},{name:"labelProperty",title:"binding"},{name:"valueProperty",title:"binding"},{name:"searchTerm",title:"binding"},{name:"highlightSearchTerm",title:"binding"},{name:"isSelected",title:"binding"},{name:"addItem",title:"binding"},{name:"getKey",title:"binding"}]},{name:"result-label-property",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"},{name:"labelProperty",title:"binding"},{name:"valueProperty",title:"binding"},{name:"searchTerm",title:"binding"},{name:"getKey",title:"binding"}]},{name:"after-item-list"},{name:"suffix"},{name:"hint"}],sourceFiles:["/home/runner/work/meteor-component-library/meteor-component-library/src/components/form/sw-select/sw-select.vue"]};export{yt as S,W as g};
